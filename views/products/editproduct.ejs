<% if (error && error.length) { %>
    <div class="alert alert-danger">
        <%= error[0] %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>
<% if (success && success.length) { %>
    <div class="alert alert-success">
        <%= success[0] %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>


<div class="container">
    <a href="/" class="text-dark text-decoration-none"><i class="fa-solid fa-circle-chevron-left" style="color: #000000;"></i> Back to shopping page</a>
    <div class="row my-3 justify-content-center">
        <div class="col-md-8 mb-4">
            <form class="form-horizontal" method="POST" action="/product/update/<%= product._id %>">
                <div class="mb-3">
                    <label for="name" class="form-label">Product Name</label>
                    <input type="text" class="form-control" id="name" name="name" value="<%= product.name %>" required>
                </div>
                <div class="mb-3">
                    <label for="price" class="form-label">Price</label>
                    <input type="number" class="form-control" id="price" name="price" value="<%= product.price %>" min="0" step="0.01" required>
                </div>
                <div class="mb-3">
                    <label for="image" class="form-label">Image</label>
                    <input type="text" class="form-control" id="image" name="image" value="<%= product.image %>" required>
                </div>
                <div class="mb-3">
                    <label for="category" class="form-label">Category</label>
                    <select class="form-select" id="category" name="category" required>
                        <option value="food" <% if (product.category === 'food') { %>selected<% } %>>Food & Water Bowl</option>
                        <option value="toys" <% if (product.category === 'toys') { %>selected<% } %>>Toys</option>
                        <option value="furniture" <% if (product.category === 'furniture') { %>selected<% } %>>Furniture</option>
                        <option value="litter" <% if (product.category === 'litter') { %>selected<% } %>>Litter</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" id="description" name="description" rows="4" required><%= product.description %></textarea>
                </div>
                <div class="mb-3">
                    <label for="quantity" class="form-label">Quantity</label>
                    <input type="number" class="form-control" id="quantity" name="quantity" value="<%= product.quantity %>" min="0" required>
                </div>
                <label for="productStatus">Product Status:</label>
                <select name="productStatus" id="productStatus">
                <% for (const status of productStatusOptions) { %>
                    <option value="<%= status %>" <%= product.productStatus === status ? 'selected' : '' %>><%= status %></option>
                <% } %>
                </select>
                <br><br>
                <button type="submit" class="btn btn-dark">Edit</button>
            </form>
        </div>
    </div>
</div>
